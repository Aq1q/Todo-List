(()=>{"use strict";const t={projects:[],addProject:function(t){0!=this.projects.length&&this.projects[this.projects.length-1].id==this.projects.length?this.projects.push({pid:this.projects.length+1,title:t,tasks:[],addTask:function(t,e="",s="",i=0){0!=this.tasks.length&&this.tasks[this.tasks.length-1].id==this.tasks.length?this.tasks.push({id:this.tasks.length+1,title:t,description:e,dueDate:s,priority:i}):this.tasks.push({id:this.tasks.length,title:t,description:e,dueDate:s,priority:i})},removeTask:function(t){const e=this.tasks.findIndex((e=>e.id==t));this.tasks.splice(e,1)}}):this.projects.push({pid:this.projects.length,title:t,tasks:[],addTask:function(t,e="",s="",i=0){0!=this.tasks.length&&this.tasks[this.tasks.length-1].id==this.tasks.length?this.tasks.push({id:this.tasks.length+1,title:t,description:e,dueDate:s,priority:i}):this.tasks.push({id:this.tasks.length,title:t,description:e,dueDate:s,priority:i})},removeTask:function(t){const e=this.tasks.findIndex((e=>e.id==t));this.tasks.splice(e,1)}})},removeProject:function(t){const e=this.projects.findIndex((e=>e.pid==t));this.projects.splice(e,1)}};function e(e){t.addProject(e);const s=function(t,e){const s=document.getElementById("plist"),i=document.createElement("li");i.classList.add("projectbox"),i.setAttribute("data-id",e);const n=document.createElement("span");n.innerText=t,i.appendChild(n);const d=document.createElement("button"),a=document.createElement("img");return a.classList.add("ximg"),a.setAttribute("alt","delete"),a.setAttribute("src","./images/X.svg"),a.setAttribute("data-id",e),d.appendChild(a),i.appendChild(d),s.appendChild(i),d}(e,t.projects.length-1);!function(e){e.addEventListener("click",(e=>{return s=e,t.removeProject(s.srcElement.dataset.id),i=s.srcElement.dataset.id,void document.querySelector(`[data-id="${i}"]`).remove();var s,i}))}(s)}t.addProject("Main"),document.getElementById("projectform").addEventListener("submit",(t=>{t.preventDefault(),e(t.target.elements[0].value)})),e("Main")})();