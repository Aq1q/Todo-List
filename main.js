(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{_:()=>r});const e={projects:[],addProject:function(t){0!=this.projects.length?this.projects.push({pid:this.projects[this.projects.length-1].pid+1,title:t,tasks:[],addTask:function(t,e="",s=0,n=""){0!=this.tasks.length?this.tasks.push({id:this.tasks[this.tasks.length-1].id+1,title:t,description:n,dueDate:e,priority:s}):this.tasks.push({id:this.tasks.length,title:t,description:n,dueDate:e,priority:s})},removeTask:function(t){const e=this.tasks.findIndex((e=>e.id==t));this.tasks.splice(e,1)}}):this.projects.push({pid:this.projects.length,title:t,tasks:[],addTask:function(t,e="",s=0,n=""){0!=this.tasks.length?this.tasks.push({id:this.tasks[this.tasks.length-1].id+1,title:t,description:n,dueDate:e,priority:s}):this.tasks.push({id:this.tasks.length,title:t,description:n,dueDate:e,priority:s})},removeTask:function(t){const e=this.tasks.findIndex((e=>e.id==t));this.tasks.splice(e,1)}})},removeProject:function(t){const e=this.projects.findIndex((e=>e.pid==t));this.projects.splice(e,1)},findProject:function(t){return this.projects.findIndex((e=>e.pid==t))}};function s(t,e){"project"===t?document.querySelector(`[data-idp="${e}"]`).remove():document.querySelector(`[data-idt="${e}"]`).remove()}function n(t,e){const s=document.getElementById("tlist"),n=document.createElement("li"),i=document.createElement("div");n.setAttribute("data-idt",e),n.classList.add("taskbox"),i.classList.add("options");const a=document.createElement("span");a.classList.add("task"),a.innerText=`Title: ${t[0].value}`,i.appendChild(a);const d=document.createElement("span");d.classList.add("task"),d.innerText=`Due: ${t[1].value}`,i.appendChild(d);const c=document.createElement("span");c.classList.add("task"),c.innerText=`Priority: ${t[2].value}`,i.appendChild(c);const l=document.createElement("p");l.classList.add("taskd"),l.innerText=t[3].value,i.appendChild(l),n.appendChild(i);const o=document.createElement("button");return o.classList.add("delete"),o.innerText="Delete",o.setAttribute("data-idt",e),n.appendChild(o),s.appendChild(n),o}function i(t,e){const s=document.getElementById("plist"),n=document.createElement("li");n.classList.add("projectbox"),n.setAttribute("data-idp",e);const i=document.createElement("span");i.setAttribute("data-idp",e),i.innerText=t,n.appendChild(i);const a=document.createElement("button"),d=document.createElement("img");return d.classList.add("ximg"),d.setAttribute("alt","delete"),d.setAttribute("src","./images/X.svg"),d.setAttribute("data-idp",e),a.appendChild(d),n.appendChild(a),s.appendChild(n),[a,n]}function a(t,e){const s=document.getElementById("tlist"),n=document.createElement("li"),i=document.createElement("div");n.setAttribute("data-idt",e),n.classList.add("taskbox"),i.classList.add("options");const a=document.createElement("span");a.classList.add("task"),a.innerText=`Title: ${t[0].value}`,i.appendChild(a);const d=document.createElement("span");d.classList.add("task"),d.innerText=`Due: ${t[1].value}`,i.appendChild(d);const c=document.createElement("span");c.classList.add("task"),c.innerText=`Priority: ${t[2].value}`,i.appendChild(c);const l=document.createElement("p");l.classList.add("taskd"),l.innerText=t[3].value,i.appendChild(l),n.appendChild(i);const o=document.createElement("button");return o.classList.add("delete"),o.innerText="Delete",o.setAttribute("data-idt",e),n.appendChild(o),s.appendChild(n),o}!function(){let t=document.getElementById("modal"),e=document.getElementById("taskBtn"),s=document.getElementsByClassName("close")[0],n=document.getElementById("taskAdd");e.addEventListener("click",(()=>{t.style.display="block"})),s.addEventListener("click",(()=>{t.style.display="none"})),n.addEventListener("click",(()=>{t.style.display="none"})),window.addEventListener("click",(e=>{e.target==t&&(t.style.display="none")}))}(),localStorage.length<1&&o("Main");let d=0;function c(t){t.addEventListener("click",(t=>{var n;console.log(t),n=t,e.removeProject(n.srcElement.dataset.idp),s("project",n.srcElement.dataset.idp)}))}function l(t){t.addEventListener("click",(t=>r(t)))}function o(t){if(0!=e.projects.length&&e.projects[e.projects.length-1].pid>=e.projects.length){const s=i(t,e.projects[e.projects.length-1].pid+1);c(s[0]),p(s[1])}else{const s=i(t,e.projects.length);c(s[0]),p(s[1])}e.addProject(t)}function r(t){const n=e.findProject(d);e.projects[n].removeTask(t.srcElement.dataset.idt),s("task",t.srcElement.dataset.idt)}function p(t){t.addEventListener("click",(t=>{if("ximg"!=t.target.className){const s=t.target.attributes[t.target.attributes.length-1].value;d=s,function(t){let s;for(let n=0;n<e.projects.length;n++)if(e.projects[n].pid==t){s=e.projects[n];break}!function(t){document.getElementById("tlist").innerHTML="";let e=0;for(;e<t.tasks.length&&0!=t.tasks.length;)n([{value:t.tasks[e].title},{value:t.tasks[e].dueDate},{value:t.tasks[e].priority},{value:t.tasks[e].description}],t.tasks[e].id).addEventListener("click",(t=>r(t))),e++}(s)}(s)}}))}document.getElementById("projectForm").addEventListener("submit",(t=>{t.preventDefault(),o(t.target.elements[0].value)})),document.getElementById("taskForm").addEventListener("submit",(t=>{t.preventDefault(),0!=e.projects.length&&function(t){const s=e.findProject(d);0!=e.projects[s].tasks.length&&e.projects[s].tasks[e.projects[s].tasks.length-1].id>=e.projects[s].tasks.length?l(a(t,e.projects[s].tasks[e.projects[s].tasks.length-1].id+1)):l(a(t,e.projects[s].tasks.length)),e.projects[s].addTask(t[0].value,t[1].value,t[2].value,t[3].value)}(t.target.elements)}))})();