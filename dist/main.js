(()=>{"use strict";const t={projects:[],addProject:function(t){0!=this.projects.length&&this.projects[this.projects.length-1].id==this.projects.length?this.projects.push({pid:this.projects.length+1,title:t,tasks:[],addTask:function(t,e="",s="",i=0){0!=this.tasks.length&&this.tasks[this.tasks.length-1].id==this.tasks.length?this.tasks.push({id:this.tasks.length+1,title:t,description:e,dueDate:s,priority:i}):this.tasks.push({id:this.tasks.length,title:t,description:e,dueDate:s,priority:i})},removeTask:function(t){const e=this.tasks.findIndex((e=>e.id==t));this.tasks.splice(e,1)}}):this.projects.push({pid:this.projects.length,title:t,tasks:[],addTask:function(t,e="",s="",i=0){0!=this.tasks.length&&this.tasks[this.tasks.length-1].id==this.tasks.length?this.tasks.push({id:this.tasks.length+1,title:t,description:e,dueDate:s,priority:i}):this.tasks.push({id:this.tasks.length,title:t,description:e,dueDate:s,priority:i})},removeTask:function(t){const e=this.tasks.findIndex((e=>e.id==t));this.tasks.splice(e,1)}})},removeProject:function(t){const e=this.projects.findIndex((e=>e.pid==t));this.projects.splice(e,1)}};function e(e){var s;console.log(e.srcElement.dataset.id),console.log(t.projects[e.srcElement.dataset.id]),t.removeProject(e.srcElement.dataset.id),console.log(t.projects),s=e.srcElement.dataset.id,document.querySelector(`[data-id="${s}"]`).remove()}t.addProject("Main"),document.querySelectorAll(".ximg").forEach((t=>t.addEventListener("click",(t=>e(t))))),document.getElementById("projectform").addEventListener("submit",(s=>{s.preventDefault(),function(s){t.addProject(s.target.elements[0].value),console.log(t.projects),function(t,e){const s=document.getElementById("plist"),i=document.createElement("li");i.classList.add("projectbox"),i.setAttribute("data-id",e);const n=document.createElement("span");n.innerText=t,i.appendChild(n);const d=document.createElement("button"),o=document.createElement("img");return o.classList.add("ximg"),o.setAttribute("alt","delete"),o.setAttribute("src","./images/X.svg"),o.setAttribute("data-id",e),d.appendChild(o),i.appendChild(d),s.appendChild(i),d}(s.target.elements[0].value,t.projects.length-1).addEventListener("click",(t=>e(t)))}(s)}))})();